{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\toshi\\\\Desktop\\\\TripMood\\\\trip-moodboard\\\\src\\\\context\\\\MoodboardContext.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  stickers: [],\n  selectedTime: '12:00',\n  history: [[]],\n  historyIndex: 0,\n  selectedSticker: null\n};\nconst MoodboardContext = /*#__PURE__*/createContext(null);\nconst moodboardReducer = (state, action) => {\n  switch (action.type) {\n    case 'ADD_STICKER':\n      {\n        const newStickers = [...state.stickers, action.payload];\n        return {\n          ...state,\n          stickers: newStickers,\n          history: [...state.history.slice(0, state.historyIndex + 1), newStickers],\n          historyIndex: state.historyIndex + 1\n        };\n      }\n    case 'UPDATE_STICKER':\n      {\n        const newStickers = state.stickers.map(sticker => sticker.id === action.payload.id ? {\n          ...sticker,\n          ...action.payload.updates\n        } : sticker);\n        return {\n          ...state,\n          stickers: newStickers,\n          history: [...state.history.slice(0, state.historyIndex + 1), newStickers],\n          historyIndex: state.historyIndex + 1\n        };\n      }\n    case 'DELETE_STICKER':\n      {\n        const newStickers = state.stickers.filter(sticker => sticker.id !== action.payload);\n        return {\n          ...state,\n          stickers: newStickers,\n          history: [...state.history.slice(0, state.historyIndex + 1), newStickers],\n          historyIndex: state.historyIndex + 1\n        };\n      }\n    case 'SET_TIME':\n      return {\n        ...state,\n        selectedTime: action.payload\n      };\n    case 'SELECT_STICKER':\n      return {\n        ...state,\n        selectedSticker: action.payload\n      };\n    case 'UNDO':\n      if (state.historyIndex > 0) {\n        return {\n          ...state,\n          stickers: state.history[state.historyIndex - 1],\n          historyIndex: state.historyIndex - 1\n        };\n      }\n      return state;\n    case 'REDO':\n      if (state.historyIndex < state.history.length - 1) {\n        return {\n          ...state,\n          stickers: state.history[state.historyIndex + 1],\n          historyIndex: state.historyIndex + 1\n        };\n      }\n      return state;\n    default:\n      return state;\n  }\n};\nexport const MoodboardProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(moodboardReducer, initialState);\n  return /*#__PURE__*/_jsxDEV(MoodboardContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_s(MoodboardProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = MoodboardProvider;\nexport const useMoodboard = () => {\n  _s2();\n  const context = useContext(MoodboardContext);\n  if (!context) {\n    throw new Error('useMoodboard must be used within a MoodboardProvider');\n  }\n  return context;\n};\n_s2(useMoodboard, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"MoodboardProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsxDEV","_jsxDEV","initialState","stickers","selectedTime","history","historyIndex","selectedSticker","MoodboardContext","moodboardReducer","state","action","type","newStickers","payload","slice","map","sticker","id","updates","filter","length","MoodboardProvider","children","_s","dispatch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useMoodboard","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/toshi/Desktop/TripMood/trip-moodboard/src/context/MoodboardContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, ReactNode } from 'react';\r\nimport { Sticker } from '../components/stickersData';\r\n\r\ninterface PlacedSticker extends Sticker {\r\n  id: string;\r\n  position: { x: number; y: number };\r\n  size: number;\r\n  rotation: number;\r\n  time: string;\r\n  zIndex: number;\r\n}\r\n\r\ninterface MoodboardState {\r\n  stickers: PlacedSticker[];\r\n  selectedTime: string;\r\n  history: PlacedSticker[][];\r\n  historyIndex: number;\r\n  selectedSticker: string | null;\r\n}\r\n\r\ntype Action =\r\n  | { type: 'ADD_STICKER'; payload: PlacedSticker }\r\n  | { type: 'UPDATE_STICKER'; payload: { id: string; updates: Partial<PlacedSticker> } }\r\n  | { type: 'DELETE_STICKER'; payload: string }\r\n  | { type: 'SET_TIME'; payload: string }\r\n  | { type: 'SELECT_STICKER'; payload: string | null }\r\n  | { type: 'UNDO' }\r\n  | { type: 'REDO' };\r\n\r\nconst initialState: MoodboardState = {\r\n  stickers: [],\r\n  selectedTime: '12:00',\r\n  history: [[]],\r\n  historyIndex: 0,\r\n  selectedSticker: null,\r\n};\r\n\r\nconst MoodboardContext = createContext<{\r\n  state: MoodboardState;\r\n  dispatch: React.Dispatch<Action>;\r\n} | null>(null);\r\n\r\nconst moodboardReducer = (state: MoodboardState, action: Action): MoodboardState => {\r\n  switch (action.type) {\r\n    case 'ADD_STICKER': {\r\n      const newStickers = [...state.stickers, action.payload];\r\n      return {\r\n        ...state,\r\n        stickers: newStickers,\r\n        history: [...state.history.slice(0, state.historyIndex + 1), newStickers],\r\n        historyIndex: state.historyIndex + 1,\r\n      };\r\n    }\r\n    case 'UPDATE_STICKER': {\r\n      const newStickers = state.stickers.map(sticker =>\r\n        sticker.id === action.payload.id\r\n          ? { ...sticker, ...action.payload.updates }\r\n          : sticker\r\n      );\r\n      return {\r\n        ...state,\r\n        stickers: newStickers,\r\n        history: [...state.history.slice(0, state.historyIndex + 1), newStickers],\r\n        historyIndex: state.historyIndex + 1,\r\n      };\r\n    }\r\n    case 'DELETE_STICKER': {\r\n      const newStickers = state.stickers.filter(sticker => sticker.id !== action.payload);\r\n      return {\r\n        ...state,\r\n        stickers: newStickers,\r\n        history: [...state.history.slice(0, state.historyIndex + 1), newStickers],\r\n        historyIndex: state.historyIndex + 1,\r\n      };\r\n    }\r\n    case 'SET_TIME':\r\n      return { ...state, selectedTime: action.payload };\r\n    case 'SELECT_STICKER':\r\n      return { ...state, selectedSticker: action.payload };\r\n    case 'UNDO':\r\n      if (state.historyIndex > 0) {\r\n        return {\r\n          ...state,\r\n          stickers: state.history[state.historyIndex - 1],\r\n          historyIndex: state.historyIndex - 1,\r\n        };\r\n      }\r\n      return state;\r\n    case 'REDO':\r\n      if (state.historyIndex < state.history.length - 1) {\r\n        return {\r\n          ...state,\r\n          stickers: state.history[state.historyIndex + 1],\r\n          historyIndex: state.historyIndex + 1,\r\n        };\r\n      }\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const MoodboardProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [state, dispatch] = useReducer(moodboardReducer, initialState);\r\n\r\n  return (\r\n    <MoodboardContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </MoodboardContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useMoodboard = () => {\r\n  const context = useContext(MoodboardContext);\r\n  if (!context) {\r\n    throw new Error('useMoodboard must be used within a MoodboardProvider');\r\n  }\r\n  return context;\r\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}